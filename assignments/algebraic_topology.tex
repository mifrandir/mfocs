\documentclass{article}
\usepackage{assignment}
\begin{document}
\title{C3.1 Algebraic Topology Mini Project: De Rahm Cohomology}
\author{Franz Miltz}
\date{\today}
\maketitle

Manifolds are special topological spaces. This is hinted at by the
statement of Poincar\'e duality that we have seen in the course.
Differentiable manifolds are special manifolds and hence even
more special from a topological point of view. This does not make
them uninteresting, however. As we will see, the differential structure
allows for the construction of an alternative cohomology theory.
We use this theory to revisit some results from singular homology
leading up to Poincar\'e duality, which takes a particularly beautiful
form in this setting.

Of course these developments will not tell us anything strictly new as,
by de Rahm's theorem, de Rahm cohomology is equivalent to singular
homology with real coefficients. Hence everything we know to be true
about the latter must be true about the former. However, it turns out
to be refreshing to see a treatment of cohomology whose underlying
cochain complex is useful in its own right.

We will draw on two main sources: This year's course on differentiable
manifolds and the corresponding material by Joyce \cite{joyce2023}, Hitchin
\cite{hitchin2014}, and Lotay \cite{lotay2021} and Bott and Tu's book on
de Rahm cohomology \cite{bott1982}.

\section{Differentiable Manifolds}

We begin by recalling some elementary definitions from differential
geometry, establishing notation along the way.

Recall that a chart $\phi:U\to X$ consists of
an open $U\subseteq\mathbb{R}^n$ and a local homeomorphism
$\phi:U\to X$. An atlas is then a collection of charts $\left\lbrace{\phi_i : U_i \to X}\right\rbrace$ such that $X=\bigcup_i \phi_i(U_i)$
and, for all $i$ and $j$, ${\phi_j}^{-1}\circ\phi_i$ is smooth.
Now atlases $\left\lbrace{\phi_i}\right\rbrace$ and $\left\lbrace{\psi_j}\right\rbrace$ are compatible if ${\phi_i}^{-1}\circ\psi_j$ and ${\psi_j}^{-1}\circ\phi_i$ are always smooth and an atlas is maximal if it contains
all compatible atlases, i.e. no further charts may be added.
A manifold is a Hausdorff space $X$ with countable basis equipped with
a maximal atlas. We say $(x_1,\ldots x_n)$ are coordinates near $p\in X$
if there is a chart $\phi:U\to X$ with $0\in U$, $\phi(0)=p$, and
$\phi(e_i) = x_i$, i.e. we may write $q=p + \sum_i \lambda_i x_i$
for all $q$ in an open neighbourhood $U$ of $p$.

There are several ways in which we can construct manifolds. Particularly
important for us will be the following: For manifolds $X$ and $Y$ there
is a canonical manifold struture on the product $X\times Y$. Moreover,
every open subset of a manifold has a manifold structure by
restricting all the charts.

Associated with each point $p\in X$ of a manifold is a vector
space $T_p X$ which has a basis of operators $(\partial/\partial x_1,\ldots,\partial/\partial x_n)$ for each set of coordinates $(x_1,\ldots,x_n)$.
Moreover, a smooth map of manifolds $f:X\to Y$ induces a linear map
$df_p : T_p X\to T_{f(p)} Y$ of tangent spaces at each $p\in X$.
The dual $\left({T_p X}\right)^*= T^*_p X$ is called the cotangent space
and we write $d^* f_p : T_{f(p)}^* Y\to T_p^* X$ for the dual of the
derivative. The dual vectors of the $\partial/\partial x_i$ are denoted
$dx_i$ and form a basis of the cotangent space.

Last but not least, recall that a partition of unity subordinate
to a covering $\left\lbrace{U_i}\right\rbrace$ of $X$ is a set of smooth
functions $\left\lbrace{\eta_i : X\to\mathbb{R}}\right\rbrace$ satisfying
\begin{enumerate}
  \item $\supp \eta_i \subseteq U_i$,
  \item $\eta_i\geq 0$,
  \item $\left\lbrace{ i : \eta_i(p) > 0}\right\rbrace$ is finite for all $p\in X$, and
  \item $\sum_i \eta_i = 1$.
\end{enumerate}
Partitions of unity exist for all coverings. This summarises all the
differential geometry we require. Next, let us revisit some linear algebra.

\section{Tensor algebras}

Recall that the tensor product $U\otimes V$ of two vector spaces $U$ and $V$ is, up to isomorphism, defined by the universal property that any bilinear map $f:U\times V\to W$ determines a unique linear map $\tilde f : U\otimes V\to W$ making the following diagram commute:

\begin{equation*}
  % https://q.uiver.app/#q=WzAsMyxbMCwwLCJVXFx0aW1lcyBWIl0sWzEsMSwiVVxcb3RpbWVzIFYiXSxbMiwwLCJXIl0sWzAsMiwiZiJdLFsxLDIsIlxcdGlsZGUgZiIsMl0sWzAsMSwiXFxwaSIsMl1d
  \begin{tikzcd}
    {U\times V} && W \\
                & {U\otimes V}
                \arrow["f", from=1-1, to=1-3]
                \arrow["{\tilde f}"', from=2-2, to=1-3]
                \arrow["\pi"', from=1-1, to=2-2]
  \end{tikzcd}
\end{equation*}

This is associative up to a canonical isomorphism and hence we may write
\begin{align*}
  \tensor{k}{V} = V \otimes \cdots \otimes V
\end{align*}
for the $k$-fold tensor product of $V$.

\begin{definition}
  The \emph{tensor algebra} of a vector space $V$ is the set
  \begin{align*}
    \tensor{}{V} = \bigcup_{k=1}^\infty \tensor{k}{V}
  \end{align*}
  equipped with the tensor products
  \begin{align*}
    \otimes : \tensor{k}{V} \times \tensor{\ell}{V}\to \tensor{k+\ell} V.
  \end{align*}
\end{definition}

This is an $\mathbb{R}$-algebra in the usual sense. Note that linear maps
$f:V\to W$ induce linear maps $\tensor{k}{f}:\tensor{k}{V}\to\tensor{k}{V}$ and
hence algebra homomorphisms $f:\tensor{}{V}\to\tensor{}{V}$.

\section{Exterior algebras}

It will prove fruitful to define the ideal spanned by elements of the form $v\otimes v$ in $\tensor{}{V}$. Let us write
\begin{align*}
  I(V) = \langle\left\lbrace{v\otimes v : v \in V}\right\rbrace\rangle.
\end{align*}
Then an element $a\in I(V)\subseteq \tensor{}{V}$ is a linear combination
of multiples of $v\otimes v$ for some $v\in V$.
This lets us define a construction that we will be studying for the remainder
of this project:

\begin{definition}
  Let $V$ be an $n$-dimensional vector space. The \emph{exterior algebra of
  $V$} is the quotient
  \begin{align*}
    \exterior{}{V} = \tensor{}{V}/I(V).
  \end{align*}
  We write $\exterior{k}{V}$ for the image of $\tensor{k}{V}$ under the quotient
  map. Further, linear maps $f:V\to W$ induce algebra homomorphisms
  $\exterior{}{f}:\exterior{}{V}\to\exterior{}{W}$ and hence linear maps
  $\exterior{k}{f}:\exterior{k}{V}\to\exterior{k}{W}$.
\end{definition}

\begin{lemma}
  Let $V$ be an $n$-dimensional vector space.
  Then for all $\alpha\in\exterior{k}{V}$ and $\beta\in\exterior{\ell}{V}$,
  \begin{align*}
    \alpha\wedge\beta = (-1)^{k\ell}\beta\wedge\alpha.
  \end{align*}
  \begin{proof}
    We have seen $u\wedge v + v\wedge u = 0$ for any $u,v\in V$.
    By linearity of the quotient map $\tensor{}{V}\to\exterior{}{V}$,
    it follows that interchaning any adjacent elements in an expression
    $u_1\wedge\cdots\wedge u_k$ changes the sign. Now,
    for $u_1,\ldots,u_k,v_1,\ldots,v_\ell\in V$,
    \begin{align*}
      (u_1\wedge\cdots\wedge u_k)\wedge(v_1\wedge\cdots\wedge v_\ell)
      = (-1)^{k\ell}(v_1\wedge\cdots\wedge v_\ell)\wedge(u_1\wedge\cdots\wedge u_k)
    \end{align*}
    by moving each $v_i$ individually. The claim then follows
    by writing elements of $\exterior{k}{V}$ as linear combinations
    of $k$-fold wedges $v_1\wedge\cdots\wedge v_k$.
  \end{proof}
\end{lemma}

\begin{lemma}\label{lem:basis_of_exterior_product}
  Let $V$ be an $n$-dimensional vector space and $v_1,\ldots,v_n$ a basis.
  Then
  \begin{align}\label{eq:exterior_basis}
    \left\lbrace{v_{j_1}\wedge\cdots\wedge v_{j_k} : 1\leq j_1<\cdots<j_k\leq n }\right\rbrace
  \end{align}
  is a basis for $\exterior{k}{V}$. Thus $\dim\exterior{k}{V} = \binom{n}{k}$.
  \begin{proof}
    The vectors in (\ref{eq:exterior_basis}) span $\exterior{k}{V}$
    because we know that
    \begin{align*}
      \left\lbrace{v_{j_1}\otimes \cdots\otimes v_{j_k} : 1\leq j_1,\ldots,j_k\leq n}\right\rbrace
    \end{align*}
    is a basis of $\tensor{k}{V}$ whose image under the quotient map
    is
    \begin{align*}
      \left\lbrace{0}\right\rbrace\cup
      \left\lbrace{\pm v_{j_1}\wedge\cdots\wedge v_{j_k} : 1\leq j_1<\cdots<j_k\leq n }\right\rbrace.
    \end{align*}
    To see that (\ref{eq:exterior_basis}) is linearly independent,
    consider
    \begin{align*}
      \sum a_{j_1,\ldots,j_k} v_{j_1}\wedge\cdots\wedge v_{j_k} = 0.
    \end{align*}
    Wedging with elements of $w\in\exterior{n-k}{V}$ we find $w\wedge
    v_{j_1}\wedge\cdots\wedge v_{j_k}=0$ for all but at most one summands. This
    leaves us with the equation $a_{j_1,\ldots,j_k}v_1\wedge\cdots\wedge v_n=0$
    i.e. $a_{j_1,\ldots,j_k}=0$.
  \end{proof}
\end{lemma}

To simplify notation, we will use multi-indices. A multi-index $I$ of size
$k$ and dimension $n$ is a tuple $(i_1,\ldots,i_k)$ such that
$1\leq i_1<\cdots<i_k\leq n$. We will write $v_I = v_{i_1}\wedge \cdots \wedge
v_{i_k}$ for the basis vectors of $\exterior{k}{V}$ so a general
element $x\in\exterior{k}{V}$ will be written as
$x = \sum_I x_I v_I$ where the $I$ is understood to range over
all the $\binom{n}{k}$ multi-indices of size $k$ and dimension $n$.

\begin{example}
  We are going to be interested in studying the exterior
  algebra of the cotangent spaces $T_p^* X$ of a manifold $X$.
  Let $\alpha\in \exterior{k}{T^*_p X}$. Then there is a corresponding $a\in
  \tensor{k}{T_p^* X}$. Now
  \begin{align*}
    \tensor{k}{T_p^* X} = \tensor{k}{\Hom(T_p X,\mathbb{R})} \cong \Hom(\tensor{k}{T_p X}, \tensor{k}{\mathbb{R}}) \cong \Hom(\tensor{k}{T_p X},\mathbb{R}).
  \end{align*}
  Hence $a$ may be understood as a map $\tensor{k}{T_p X}\to\mathbb{R}$
  which is just a multilinear map $T_p X\times\cdots\times T_p X\to\mathbb{R}$. It is not difficult to see that the elements of $\exterior{k}{T^*_p X}$
  correspond exactly to those multilinear maps that are alternating,
  i.e. for all $1\leq i < j\leq k$,
  \begin{align*}
    a(x_1,\ldots,x_i,\ldots,x_j,\ldots x_k) = -a(x_1,\ldots,x_{i-1},x_j,x_{i+1},\ldots,x_{j-1},x_i,x_{j+1},\ldots,x_k).
  \end{align*}
\end{example}

\section{Vector bundles}

\begin{definition}
  Let $X$ be an $n$-manifold and $k\geq 0$.
  A \emph{rank $k$ vector bundle on $X$} consists of
  \begin{enumerate}
    \item an $(n+k)$-manifold $E$,
    \item a smooth surjective map $\pi : E\to X$, and
    \item for each $x\in X$, a $k$-dimensional real vector space structure on ${\pi}^{-1}\left\lbrace{x}\right\rbrace$,
  \end{enumerate}
  such that, for each $x\in X$ there is an open neighbourhood $U\ni x$
  together with a diffeomorphism $\psi : {\pi}^{-1} U \to U\times\mathbb{R}^k$ that restricts to an isomorphism $\psi : {\pi}^{-1}\left\lbrace{u}\right\rbrace\to \left\lbrace{u}\right\rbrace\times\mathbb{R}^k$ for all $u\in U$.
\end{definition}

\begin{example}\label{ex:bundles}
  Let $X$ be an $n$-manifold. Then there are several obvious vector bundles:
  \begin{itemize}
    \item The manifold $X\times\mathbb{R}^m$ together with the projection $\pi : X\times\mathbb{R}^m\to X$ trivially forms a vector bundle.
    \item Define
      \begin{align*}
        TX = \bigsqcup_{p\in X} T_p X = \left\lbrace{(p, v) : p \in X, v \in T_p X}\right\rbrace
      \end{align*}
      where $T_p X$ denotes the tangent space of $X$ at $p$. The manifold
      structure on $TX$ is induced by the manifold structure on $X$ in the
      obvious way: For each chart $\phi:U\to X$, define a map
      $\psi:U\times\mathbb{R}^n\to TX$ by
      \begin{align*}
        \psi(p,y_1,\ldots y_n)
        = \sum_{j=1}^k y_j \res{\frac{\partial}{\partial x_j}}{p}.
      \end{align*}
      This turns out to be a chart and, moreover, gives rise
      to an atlas on $TX$. We thus have a $2n$-manifold $TX$ which, together with the projection $(p,v)\mapsto p$, forms a vector bundle called the \emph{tangent bundle}.
    \item One may similarly define the \emph{cotangent bundle} $T^*X$.
      More generally, the exterior powers $\exterior{k}{T^* X}$ are going
      to be of interest to us. Define
      \begin{align*}
        \exterior{k}{T^*X} = \bigsqcup_{p\in X} \exterior{k}{T^*_p X}.
      \end{align*}
      Once again, we extend a chart
      $\phi:U\to X$ to a chart $\psi : U\times\mathbb{R}^{\binom{n}{k}}\to \exterior{k}{T^*X}$ in the obvious way:
      \begin{align*}
        \psi(p,y) = \sum_I y_I \res{dx_I}{p}
      \end{align*}
      where $\res{dx_1}{p},\ldots,\res{dx_n}{p}$ are the usual basis vectors of
      $T^*_p X$. Direct computation shows that this is a chart and
      thus we have a manifold $\exterior{k}{T^*_p X}$ of dimension
      $n+\binom{n}{k}$ which forms a vector bundle with the
      projection $(p,v)\mapsto p$.
  \end{itemize}
\end{example}

\begin{definition}
  A  (smooth) \emph{section} of a vector bundle $\pi:E\to X$ is a (smooth)
  section of the map $\pi$, i.e. a smooth map $\sigma : X\to E$ such that $\pi
  \circ \sigma = \identity_X$. Denote by $\Gamma^\infty(E)$ the set of all sections of
  a vector bundle $E$.
\end{definition}

\begin{example}
  Let us inspect the sections of the bundles in~\ref{ex:bundles}.
  \begin{itemize}
    \item A section of the trivial bundle is a map $p\mapsto (p,\phi(p))$ where $\phi:X\to\mathbb{R}^m$ is smooth.
    \item A section of the tangent bundle is a smooth map of the form
      $p\mapsto (p,v_p)$ where $v_p\in T_p X$. Such a section is called
      a \emph{vector field}.
    \item Similarly, a section of $\exterior{k}{T^* X}$ smoothly assigns to each
      $p\in X$ an element $\alpha\in\exterior{k}{T^*_p X}$. That is,
      if we have coordinates $(x_1,\ldots,x_n)$ on $U\subseteq X$,
      then
      \begin{align}\label{eq:local_differential_form}
        \res{\alpha}{U} = \sum_I \alpha_I dx_I
      \end{align}
      where each $\alpha_I$ is a smooth function $U\to \mathbb{R}$.
  \end{itemize}
\end{example}

\section{Differential forms}

\begin{definition}
  Let $X$ be a manifold. For $k\geq 1$, the set of \emph{differential
  $k$-forms} is $\Omega^k(X) = \Gamma^\infty(\exterior{k}{T^* X})$.
  Further define $\Omega^0(X)$ to be the set of smooth functions
  $X\to\mathbb{R}$.
\end{definition}

As a consequence of \ref{lem:basis_of_exterior_product} we have
$\dim\Omega^k(X)=\binom{n}{k}$ for all $0\leq k\leq n$. We further
note that, for $k<0$ or $k>n$, $\Omega^k(X)=0$.

Similar to how continuous maps between topological spaces induce
maps on cochains, smooth maps between manifolds induce maps on forms.
Let $f:X\to Y$ be a smooth map of manifolds. Then we have the derivative
\begin{align*}
  df:TX\to TY
\end{align*}
and its dual
\begin{align*}
  d^*f : T^*Y\to T^*X.
\end{align*}
Hence we have a map on the exterior products
\begin{align*}
  \exterior{k}{d^*f} : \exterior{k}{T^*Y}\to \exterior{k}{T^*X}.
\end{align*}
Postcomposition with this map allows us to take a $k$-form on $Y$
to a $k$-form on $X$:

\begin{definition}
  Let $f:X\to Y$ be a smooth map of manifolds and $\alpha\in\Omega^k(Y)$.
  The \emph{pullback of $\alpha$ by $f$} is the composite
  $f^*\alpha\in\Omega^k(Y)$ defined by
  \begin{align*}
    X\xrightarrow{f} Y\xrightarrow{\alpha} \exterior{k}{T^*Y}\xrightarrow{\exterior{k}{d^*f}} \exterior{k}{T^*X}.
  \end{align*}
\end{definition}

\section{Exterior derivative}

While differential forms are useful in their own right, in particular
to generalise the notions of integration and orientation to general
manifolds, we will use them to define a co-chain complex. The corresponding
cohomology will be the de Rahm cohomology which is equivalent to singular
cohomology with real coefficients. In this sense, differential forms
may be thought of an analog to chains.

The objects in our co-chain complex will be the vector spaces $\Omega^k(X)$. Let us now define the boundary map. Recall that, in local coordinates,
the derivative of a smooth function $f:X\to\mathbb{R}$ is
\begin{align*}
  df = \sum_{i=1}^n \frac{\partial f}{\partial x_i} dx_i.
\end{align*}
That is, differentiating a function yields a 1-form. This is easily
generalised to a derivative of $k$-forms by considering a smooth
multiple $a dx_I$ on an open subset $U\subseteq X$. Hence
\begin{align}\label{eq:local_exterior_derivative}
  d(adx_I) = da\wedge dx_I = \sum_{i=1}^n \frac{\partial a}{\partial x_i} dx_i\wedge dx_I.
\end{align}
Note that this is a strong candidate for a boundary map:
\begin{align*}
  d^2(adx_I) &= \sum_{i=1}^{n} d\left({\frac{\partial a}{\partial x_i}}\right)\wedge dx_i \wedge dx_I\\
             &= \sum_{i=1}^{n} \sum_{j=1}^{n} \frac{\partial^2 a}{\partial x_i \partial x_j} dx_j\wedge dx_i \wedge dx_I \\
             &= 0
\end{align*}
where the last step holds because $\partial^2/\partial x_i\partial x_j$ is symmetric in $i$ and $j$ but $dx_i\wedge dx_j = -dx_j \wedge dx_i$.

This derivative of $k$-forms also inherits one of the essential properties of the usual derivative. Consider $\alpha=adx_I\in\Omega^k(X)$ and $\beta=bdx_J\in\Omega^\ell(X)$. Then
\begin{align*}
  d(\alpha\wedge\beta) &= d(abdx_I\wedge dx_J) \\
                       &= d(ab)\wedge dx_I\wedge dx_J \\
                       &= (adb + bda)\wedge dx_I\wedge dx_J \\
                       &=(-1)^k a dx_I\wedge db \wedge dx_J
                       + da \wedge dx_I\wedge bdx_J \\
                       &= (-1)^k \alpha\wedge d\beta + d\alpha\wedge\beta.
\end{align*}

We avoid referencing local coordinates in our definition by taking these
properties as axioms:

\begin{definition}
  Let $X$ be an $n$-manifold. The \emph{exterior derivative} is the
  unique family of linear maps
  \begin{align*}
    d : \Omega^k(X) \to \Omega^{k+1}(X)
  \end{align*}
  such that
  \begin{enumerate}
    \item for $f\in\Omega^0(X)$, $df\in\Omega^1(X)$ is the usual derivative,
    \item $d^2 = 0$,
    \item for $\alpha\in\Omega^k(X)$, $d(\alpha\wedge\beta) = d\alpha\wedge\beta + (-1)^k \alpha\wedge d\beta$.
  \end{enumerate}
\end{definition}

We have already seen that (\ref{eq:local_exterior_derivative}) satisfies
these conditions. Moreover, taking $f\in\Omega^0(X)$ and $\alpha\in\Omega^k$
with $\res{\alpha}{U} = dx_I$ for some $U\subseteq X$, e.g. by considering a partition of unity, we find
\begin{align*}
  \res{d(f\alpha)}{U}
  &= \res{d(f\wedge\alpha)}{U}\\
  &= \res{(df\wedge\alpha + f\wedge d\alpha)}{U}\\
  &= \res{(df\wedge\alpha)}{U} + \res{f}{U}\wedge \res{d\alpha}{U}\\
  &= \res{(df\wedge\alpha)}{U} + \res{f}{U}\wedge \res{d^2x_I}{U}\\
  &= \res{(df\wedge\alpha)}{U}.
\end{align*}
Hence our local expression (\ref{eq:local_exterior_derivative}) must
hold for any family of maps satisfying the definition. In particular,
this shows that the exterior derivative is in fact unique and given by
the expression (\ref{eq:local_exterior_derivative}) in any coordinates.

\section{De Rahm cohomology}

By setting $\Omega^k(X)=0$ for $k<0$, we have a cochain complex:

\begin{definition}
  The \emph{de Rahm} complex of a manifold $X$ is the cochain complex
  \begin{align*}
    \cdots
    \xrightarrow{d} \Omega^k(X)
    \xrightarrow{d} \Omega^{k+1}(X)
    \xrightarrow{d} \cdots
  \end{align*}
\end{definition}

The pullback map $\alpha\mapsto f^*\alpha$ of a smooth
$f:X\to Y$ induces a morphism of cochain complexes $f^*:\Omega^*(Y)\to\Omega^*(X)$:


\begin{lemma}\label{lem:pullback_is_chain_map}
  Let $f:X\to Y$ be a smooth map of manifolds and $\alpha\in\Omega^k(Y)$.
  Then $f^*(d\alpha) = d(f^*\alpha)$.
  \begin{proof} E.g. \cite{hitchin2014} or \cite{joyce2023}.
    Consider the case $\alpha\in\Omega^0(Y)$.
    By definition of the derivative, we have
    $\res{d^* f(d\alpha)}{f(x)} = \res{d(\alpha\circ f)}{x}$.
    Noting that $f^*\alpha = \alpha \circ f$, we find
    $f^*(d\alpha) = d(f^*\alpha)$. This may be extended to general
    $k$ by inspecting coordiante expressions.
  \end{proof}
\end{lemma}

We will be particularly interested in the cohomology classes
of this chain complex:

\begin{definition}
  The \emph{de Rahm cohomology} $H^*(X)$ of a manifold $X$ is the cohomology of the de Rahm complex, i.e.
  $H^k(X) = H^k(\Omega^k(X))$.
\end{definition}

Note that each $\Omega^k(X)$ is a real vector space, hence the $H^k(X)$ are
vector spaces, too. Moreover, cochain maps extend to cohomology and
thus smooth $f:X\to Y$ induce linear maps $f^*:H^*(Y)\to H^*(X)$.
These maps behave well with respect to homotopy:

\begin{lemma}
  Let $f:X\times[0,1]\to Y$ be smooth and write $f_t(X) = f(x,t)$.
  Then $f_0^*=f_1^*$ as maps $H^*(Y)\to H^*(X)$.
  \begin{proof} We follow \cite{joyce2023}.
    Consider $[\alpha]\in H^k(X)$. We may write the pullback form
    as $f^*\alpha = \beta_t + dt\wedge\gamma_t$
    where $\beta_t$ and $\gamma_t$ are $t$-dependent $k$ and $k-1$
    forms on $X$, respectively. Note $d\alpha = 0$ so,
    by \ref{lem:pullback_is_chain_map}, $d(f^*\alpha)=0$.
    Thus
    \begin{align*}
      d(\beta_t + dt\wedge\gamma_t) = d\beta_t - dt\wedge d\gamma_t
      = d_X\beta_t - \frac{\partial \beta_t}{dt}\wedge dt + d_X \gamma_t \wedge dt = 0.
    \end{align*}
    As $d_X\beta_t$ does not involve $dt$, we must have
    \begin{align*}
      d_X \gamma_t - \frac{\partial \beta_t}{dt}  = 0.
    \end{align*}
    Hence
    \begin{align*}
      f_1^*\alpha - f_0^*\alpha = \beta_1 - \beta_0
      = \int_0^1 \frac{\partial\beta_t}{\partial t}dt
      = \int_0^1 (d_X\gamma_t) dt
      = d_X\left({\int_0^1 \gamma_t dt}\right).
    \end{align*}
    This shows that $f_1^*\alpha - f_0^*\alpha$ is exact and hence
    $f_1^*=f_0^*$ in cohomology.
  \end{proof}
\end{lemma}

Thus, for any smooth deformation of $f:X\to Y$, the induced map
$H^*(Y)\to H^*(X)$ remains unchanged. Note that this statement is
weaker than the usual invariance under possibly not smooth
deformations. Thus we obtain the slightly weaker statement:

\begin{corollary}
  If $X,Y$ are smoothly homotopic manifolds, then the cohomology groups
  $H^*(X)$ and $H^*(Y)$ are isomorphic.
  \begin{proof}
    Fix the smooth maps $f:X\to Y:g$. As $g\circ f\simeq\identity_X$ and
    $f\circ g\simeq\identity_Y$, we must have $(g\circ f)^* = \identity :
    H^*(X)\to H^*(X)$ and $(f\circ g)^* = \identity : H^*(Y)\to H^*(Y)$ and
    thus we have an isomorphism $f^*:H^*(Y)\cong H^*(X):g^*$.
  \end{proof}
\end{corollary}

One of the core principles when studying manifolds is to reason about
the coordinate neighbourhoods and extend results to the whole manifold.
As each coordinate neighbourhood may be assumed to be contractible,
it will be helpful to know the cohomology of $\mathbb{R}^n$.

\begin{lemma}[Poincar\'e]\label{lem:poincare}
  \begin{align*}
    H^k(\mathbb{R}^n) = \begin{cases}
      \mathbb{R} & \text{if }n=0 \\
      0 &\text{otherwise}
    \end{cases}
  \end{align*}
\end{lemma}

We omit the proof in favour of \ref{lem:compact_poincare}. Note however that
de Rahm cohomology agrees with singular cohomology with real coefficients
so the is not at all surprising.

A useful tool to extend statements about coordinate neighbourhoods
to larger manifolds will be the Mayer-Vietoris sequence.
Note that an open subset $U$ of a manifold $X$ has a canonical
manifold structure given by restricting each of the charts
$\phi_i : U_i\to X$ to the inverse image ${\phi}^{-1}(U)$.
Thus the inclusion $U\to X$ is smooth and the restriction
$\Omega^*(X)\to\Omega^*(U)$ is a map of complexes.

\begin{theorem}[Mayer-Vietoris]
  Let $X$ be a manifold with an open cover $X=U\cup V$. Then
  there is a long exact sequence
  \begin{align}\label{eq:mv}
    \cdots
    \longrightarrow H^k(X)
    \longrightarrow H^k(U)\oplus H^k(V)
    \longrightarrow H^k(U\cap V)
    \longrightarrow H^{k+1}(X)
    \longrightarrow \cdots
  \end{align}
  \begin{proof}
    We use the short exact sequence of chain complexes from \cite{bott1982}:
    \begin{align}\label{eq:short_mv}
      0
      \longrightarrow \Omega^*(X)
      \longrightarrow \Omega^*(U)\oplus \Omega^*(V)
      \longrightarrow \Omega^*(U\cap V)
      \longrightarrow 0
    \end{align}
    Here the first map takes a $k$-form $\alpha\in\Omega^k(X)$
    to its restrictions $\res{\alpha}{U}\oplus\res{\alpha}{V}$ and the
    second map takes $k$-forms $\alpha\in\Omega^k(U)$
    and $\beta\in\Omega^k(V)$ to the difference of their restrictions
    $\res{\alpha}{U\cap V}-\res{\beta}{U\cap V}$. To see that
    the second map is indeed surjective, consider
    a partition of unity $\left\lbrace{\eta_U,\eta_V}\right\rbrace$
    subordinate to $\left\lbrace{U,V}\right\rbrace$.
    Then, for any $\alpha\in\Omega^k(U\cap V)$,
    we have $\eta_V\alpha\in\Omega^k(U)$ and $-\eta_U\alpha\in\Omega^k(V)$
    and $\eta_V\alpha \oplus (-\eta_U\alpha)\mapsto
    \eta_V\alpha + \eta_U\alpha = \alpha$.

    Now the short exact sequence of cochain complexes (\ref{eq:short_mv})
    induces the long exact sequence of cohomologies (\ref{eq:mv}).
  \end{proof}
\end{theorem}

Note by taking duals we obtain a short exact sequence
of chain complexes
\begin{align*}
  0
  \longrightarrow \left(\Omega^*(U\cap V)\right)^*
  \longrightarrow \left(\Omega^*(U)\right)^*\oplus \left(\Omega^*(V)\right)^*
  \longrightarrow \left(\Omega^*(X)\right)^*
  \longrightarrow 0
\end{align*}
and hence a long exact sequence of vector spaces
\begin{align}\label{eq:dual_mv}
  \cdots
  \longrightarrow \left(H^k(X)\right)^*
  \longrightarrow \left(H^{k+1}(U\cap V)\right)^*
  \longrightarrow \left(H^{k+1}(U)\right)^*\oplus \left(H^k(V)\right)^*
  \longrightarrow \left(H^{k+1}(X)\right)^*
  \longrightarrow \cdots
\end{align}

Observe that this necessarily goes in the opposite direction of
(\ref{eq:mv}). This will prove to be a problem that we solve in the
next chapter.

\section{Compactly supported forms}

We would like to establish Poincar\'e duality, i.e. $H^k(X)\cong
(H^{n-k}(X))^*$ for suitable manifolds $X$. When dealing with manifolds,
it is common to restrict our attention coordinate neighbourhoods,
prove results locally first and subsequently extend them. In this case,
however, the Poincar\'e lemma \label{lem:poincare} poses a problem:
If we regard a coordinate neighbourhood $U\subseteq X$ as a submanifold
and consider its cohomology, we find that Poincar\'e duality does not hold.
This is because open subsets of a manifold are usually not compact,
even when the manifold itself is.

To work around this problem we are required to introduce another
cochain complex and coresponding cohomology. We obtain this by focusing
on $k$-forms of compact support. Note that the derivative of a
compactly supported $k$-form itself has compact support.

\begin{definition}
  Denote by $\Omega^k_c(X)$ the vector space of $k$-forms on $X$ with compact
  support. Then we have the \emph{de Rahm complex of compactly supported
  forms}:
  \begin{align*}
    \cdots
    \xrightarrow{d} \Omega_c^k(X)
    \xrightarrow{d} \Omega_c^{k+1}(X)
    \xrightarrow{d} \cdots
  \end{align*}
  and corresponding cohomology $H^*_c(X)$.
\end{definition}

While usual de Rahm cohomology is equivalent to singular cohomology,
even though we have not shown this, it is easily seen that this is,
by design, not the case in the compactly supported case. Hence we
obtain a Poincar\'e lemma that will not contradict Poincar\'e duality:

\begin{lemma}[Poincar\'e]\label{lem:compact_poincare}
  \begin{align*}
    H_c^k(\mathbb{R}^n) = \begin{cases}
      \mathbb{R} & \text{if }k=n \\
      0          &\text{otherwise}
    \end{cases}
  \end{align*}
  \begin{proof}
    Consider an $n$-manifold $X$ and the maps
    \begin{equation*}
      % https://q.uiver.app/#q=WzAsMixbMCwwLCJYXFx0aW1lc1xcbWF0aGJiIFJebiJdLFsyLDAsIlgiXSxbMCwxLCJcXHBpIiwwLHsiY3VydmUiOi0yfV0sWzEsMCwiXFxzaWdtYSIsMCx7ImN1cnZlIjotMn1dXQ==
      \begin{tikzcd}
        {X\times\mathbb R^n} && X
        \arrow["\pi", curve={height=-12pt}, from=1-1, to=1-3]
        \arrow["\sigma", curve={height=-12pt}, from=1-3, to=1-1]
      \end{tikzcd}
    \end{equation*}
    where $\pi(x,t) = x$ and $\sigma(x) = (x,0)$.
    Consider a form $\alpha\in\Omega_c^k(M\times\mathbb{R})$.
    We may then write
    \begin{align*}
      \alpha = \sum_i f_i(x,t) (\pi^*\beta_i) + \sum_j g_j(x,t) (\pi^*\gamma_j)\wedge dt
    \end{align*}
    for some $\beta_i\in\Omega^k(X)$, $\gamma_i\in\Omega^{k-1}(X)$,
    and $f_i,g_i:X\times\mathbb{R}\to\mathbb{R}$ are functions with compact
    support. Define $\pi_* : \Omega^k_c(X\times\mathbb{R})\to\Omega^{k-1}_c(X)$
    by
    \begin{align*}
      f(x,t)(\pi^*\beta) \mapsto 0,\hspace{1cm}
      g(x,t)(\pi^*\gamma)\wedge dt \mapsto \left({\int_{-\infty}^\infty g(x,t)dt}\right)\gamma
    \end{align*}
    We now note
    \begin{align*}
      \pi_*(d(f(x,t)(\pi^*\beta)))
      &= \pi_*\left(\frac{\partial f}{\partial t}dt\wedge \pi^*\beta + \sum_i \frac{\partial f}{\partial x_i}dx_i\wedge \pi^*\beta\right)\\
      &= \beta \int_{-\infty}^\infty \frac{\partial f}{\partial t}dt\\
      &= 0\\
      &= d(\pi_*(f(x,t)\pi^*\beta))
    \end{align*}
    and similarly $\pi_*(d(g(x,t)(\pi^*\gamma)\wedge dt))=d(\pi_*(g(x,t)(\pi^*\gamma)\wedge dt))$. Thus $\pi_*\circ d = d\circ \pi_*$, i.e. $\pi_*$
    defines a map of cochain complexes and we have maps
    $\pi_* : H^k_c(X\times\mathbb{R})\to H^{k-1}_c(X)$. We want to show $H^k_C(X\times\mathbb{R})\cong H^{k-1}(X)$. Hence we require a map in the
    other direction. Fix a $\sigma\in\Omega^1(\mathbb{R})$ such that
    $\int\sigma = 1$ and define
    \begin{align*}
      \sigma_* : \Omega^k(X)&\to \Omega^{k+1}(X\times\mathbb{R}) \\
      \alpha &\mapsto \alpha\wedge\sigma
    \end{align*}
    Once again this defines a cochain map and thus a map
    in cohomology $\sigma_* : H^k(X) \to H^{k+1}(X\times\mathbb{R})$.
    Moreover, since $\int\sigma = 1$ we have $\pi_* \circ \sigma_* = \identity$ on cochains. To see $\sigma_* \circ\pi_* = \identity$ in cohomology,
    we show that there is a cochain homotopy $\sigma_* \circ\pi_* \simeq
    \identity$.

    We define $h:\Omega_c^k(M\times\mathbb{R})\to\Omega_c^{k-1}(M\times\mathbb{R})$ by
    \begin{align*}
      \pi^*\beta f(x,t) \mapsto 0, \hspace{1cm}
      \pi^*\gamma g(x,t)\wedge dt \mapsto \gamma\int_{-\infty}^t fdt
      - \gamma\left({\int_{-\infty}^t \sigma}\right)\left({\int_{-\infty}^\infty fdt}\right).
    \end{align*}
    We claim $\identity - \sigma_*\circ\pi_* = \pm (d\circ h \pm h\circ d)$.
    This is proven in full detail in \cite{bott1982}. Hence we have
    $\sigma_*\circ\pi_*=\identity$ in cohomology, completing the proof that
    $H^k_c(X\times\mathbb{R})\cong H^{k-1}_c(X)$.
    The claim then follows by induction by noting that $H^0(\mathbb{R}^0)$ is
    the space of constant functions $\mathbb{R}^0\to\mathbb{R}$.
  \end{proof}
\end{lemma}

Compactly supported de Rahm cohomology gives rise to a different Mayer-Vieotris sequence. This is
because the inclusions go in the opposite direction: A compactly supported $k$-form on
an open subset $U\subseteq X$ may be extended to a compactly supported
$k$-form on $X$ because one may simply extend by zero. However,
the restriction of a compactly supported $k$-form on $X$ to an open subset
$U\subseteq X$ need not be compactly supported. Hence we obtain a
different Mayer-Vietoris sequence:

\begin{theorem}[Mayer-Vietoris]
  Let $X$ be a manifold with an open cover $X=U\cup V$. Then
  there is a long exact sequence
  \begin{align}\label{eq:compact_mv}
    \cdots
    \longrightarrow H^k_c(X)
    \longrightarrow H^{k+1}_c(U\cap V)
    \longrightarrow H^{k+1}_c(U)\oplus H^k(V)
    \longrightarrow H^{k+1}_c(X)
    \longrightarrow \cdots
  \end{align}
  \begin{proof}
    We use the short exact sequence of chain complexes from \cite{bott1982}:
    \begin{align}\label{eq:short_compact_mv}
      0
      \longrightarrow \Omega^*_c(U\cap V)
      \longrightarrow \Omega^*_c(U)\oplus \Omega^*_c(V)
      \longrightarrow \Omega^*_c(X)
      \longrightarrow 0
    \end{align}
    Here the first map is $\alpha\mapsto (\alpha,\alpha)$ and
    the second is $\alpha\oplus\beta \mapsto \alpha-\beta$. To see
    surjectivity of the second map consider a partition of unity
    $\left\lbrace{\eta_U,\eta_V}\right\rbrace$ and fix
    $\alpha\in\Omega_c^k(X)$. Note that $\eta_U\omega$ is
    compactly supported on $U$ as
    $\supp(\eta_U \omega)\subseteq\supp\eta_U \cap\supp\omega$
    where $\supp\omega$ is compact and supports are closed by definition.

    Again the short exact sequence of cochain complexes (\ref{eq:short_mv})
    induces the long exact sequence of cohomologies (\ref{eq:mv}).
  \end{proof}
\end{theorem}

Note by taking duals we obtain a short exact sequence
of chain complexes
\begin{align*}
  0
  \longrightarrow \left(\Omega^*_c(X)\right)^*
  \longrightarrow \left(\Omega^*_c(U)\right)^*\oplus \left(\Omega^*_c(V)\right)^*
  \longrightarrow \left(\Omega^*_c(U\cap V)\right)^*
  \longrightarrow 0
\end{align*}
and hence a long exact sequence of vector spaces
\begin{align}\label{eq:compact_dual_mv}
  \cdots
  \longrightarrow \left(H^k_c(X)\right)^*
  \longrightarrow \left(H^k_c(U)\right)^*\oplus \left(H^k_c(V)\right)^*
  \longrightarrow \left(H^k_c(U\cap V)\right)^*
  \longrightarrow \left(H^{k+1}_c(X)\right)^*
  \longrightarrow \cdots
\end{align}
It is the symmetry of this exact sequence with (\ref{eq:dual_mv}) that
we will exploit.

\section{Integration}

\begin{definition}
  An $n$-manifold $X$ is \emph{orientable} whenever it has an
  everywhere non-vanishing $n$-form $\omega$.

  An \emph{orientation} on $X$ is a choice of equivalence class of
  everywhere non-vanishing $n$-form under multiplication by positive
  functions. I.e. $\omega \sim f\omega$ for all $f>0$.
\end{definition}

We care about orientability due to the following:

\begin{lemma}
  A manifold is orientable if, and only if, it has an atlas
  $\left\lbrace{\phi_\alpha :U_\alpha\to X}\right\rbrace$
  such that, for each intersection $\phi_\alpha(U_\alpha)\cap\phi_\beta(U_\beta)$,
  the determinant of the change of coordinates matrix
  is positive, i.e. $\det(\partial y_i /\partial x_j)>0$
  where $(x_1,\ldots,x_n)$ are coordinates on $U_\alpha$
  and $(y_1,\ldots,y_n)$ are coordinates on $U_\beta$.
  \begin{proof}
    As in \cite{hitchin2014}.
    Assume $X$ is orientable and choose an orientation $[\omega]$.
    In local coordinates,
    \begin{align*}
      \omega = f dx_1 \wedge\cdots\wedge dx_n.
    \end{align*}
    We assume without loss of generality that $f>0$. This may be
    achieved by swapping a single coordinate $x_j\mapsto c-x_j$.
    For another set of local coordinates, we may similarly write
    $\omega=g dy_1\wedge\cdots\wedge dy_n$. Then, on the intersection
    of the neighbourhoods,
    \begin{align*}
      \omega &= g dy_1\wedge\cdots\wedge dy_n \\
             &= g(y_1(x),\ldots,y_n(x))det(\partial y_i/\partial x_j) dx_1\wedge\cdots\wedge dx_n \\
             &= f dx_1\wedge\cdots\wedge dx_n.
    \end{align*}
    As $f,g>0$ we must have $\det(\partial y_i /\partial x_j)>0$.

    Conversely, assume we have such an atlas. Using a partition
    of unity $\left\lbrace{\eta_\alpha}\right\rbrace$ subordinate to the
    atlas write
    \begin{align*}
      \omega = \sum_\alpha \eta_\alpha dx_1^\alpha \wedge\cdots\wedge dx_n^\alpha.
    \end{align*}
    Then on a neighbourhood $\phi_\beta(U_\beta)$ with coordinates
    $(x_1,\ldots,x_n)$ we have
    \begin{align*}
      \res{\omega}{\eta_\alpha(U_\alpha)}
      = \sum_\alpha \eta_\alpha \det(\partial y^\alpha_i/\partial x_j) dx_1\wedge\cdots\wedge dx_n.
    \end{align*}
    Since $\eta_\alpha\geq 0$, $\sum_\alpha \eta_\alpha = 1$, and $\det(\partial y^\alpha_i/\partial x_i)>0$,
    this is non-vanishing.
  \end{proof}
\end{lemma}

We call such an atlas oriented. This allows us to define integration of top
degree forms on a manifold in the obvious way:

\begin{definition}
  Let $X$ be a compact orientable $n$-manifold, let $\alpha\in\Omega^n(X)$, let
  $\left\lbrace{\phi_\alpha : U_i \to X}\right\rbrace$ be an oriented atlas,
  let $\left\lbrace{\eta_i}\right\rbrace$ be a partition of unity subordinate
  to $U_i$, and write $\res{\alpha}{U_i} = f_i(x_1,\ldots,x_n)
  dx_1\wedge\cdots\wedge dx_n$. The \emph{integral of $\alpha$ on $X$} is
  \begin{align*}
    \int_X \alpha
    = \sum_i \int_{U_i} \eta_i\alpha
    = \sum_i \int_{\mathbb{R}^n} f_i(x_1,\ldots,x_n)dx_1\cdots dx_n.
  \end{align*}
\end{definition}

This is well-defined as we require the atlas to be oriented and hence
the change of variables formula applies.
As we do not require manifolds with boundary, we only state and prove
a special case of Stokes' theorem:

\begin{theorem}[Stokes]
  Let $X$ be an orientable $n$-manifold and let $\alpha\in\Omega^{n-1}(X)$
  be of compact support. Then
  \begin{align*}
    \int_X d\alpha = 0.
  \end{align*}
  \begin{proof}
    From \cite{hitchin2014}. Write
    \begin{align*}
      \alpha = \sum_i \eta_i \alpha
    \end{align*}
    where $\left\lbrace{\eta_i}\right\rbrace$ is a partition of
    unity subordinate to $\left\lbrace{\phi_i(U_i)}\right\rbrace$
    where $\left\lbrace{\phi_i : U_i\to X}\right\rbrace$ is an atlas.

    Then within such a $U_i$ we have
    \begin{align*}
      \eta_i\alpha = \sum_{j=1}^n (-1)^{j+1}\alpha_j dx_1\wedge\cdots dx_{j-1}\wedge
      dx_{j+1}\wedge\cdots\wedge dx_n
    \end{align*}
    for some smooth functions $\alpha_j$ and hence
    \begin{align*}
      d(\eta_i\alpha) = \left(\sum_{j=1}^n {\frac{\partial \alpha_j}{\partial x_j}}\right) dx_1\wedge\cdots\wedge dx_n.
    \end{align*}
    Now note
    \begin{align*}
      \int_{\mathbb{R}^n}\left({\frac{\partial \alpha_j}{\partial x_j}}\right) dx_1\cdots dx_n = \int_{\mathbb{R}} \cdots\int_{\mathbb{R}} \frac{\partial \alpha_j}{\partial x_j} = 0
    \end{align*}
    as $\alpha_j$ has compact support and thus
    \begin{align*}
      \int_{\mathbb{R}} \left({\frac{\partial \alpha_j}{\partial x_j}}\right)dx_j = [\alpha_j]_{-N}^N = 0
    \end{align*}
    for $N$ sufficiently large. Thus
    \begin{align*}
      \int_X d(\eta_i\alpha) = \int_{U_i} d(\eta_i\alpha) = \sum_{j=1}^n \int_{\mathbb{R}^n}{\frac{\partial \alpha_j}{\partial x_j}dx_1\cdots dx_n} = 0.
    \end{align*}
    The claim follows by definition of integration.
  \end{proof}
\end{theorem}

\section{Poincar\'e duality}

We aim to finish this exploration of the intersection of differential
geometry and algebraic topology by establishing Poincar\'e duality.
This is a particularly interesting result in this setting because
it gives an idea in what sense manifolds are special from a topological
point of view. Moreover, the proof works out very naturally in
differential geometry as it involves not only the wedge product but
also integration, the second large application of differential forms.

Suppose $\alpha = \beta + d\theta$. Then, by Stokes' Theorem,
\begin{align*}
  \int \alpha = \int (\beta + d\theta) = \int \beta +\int d\theta
  = \int \beta.
\end{align*}
Thus we have a linear map $\int : H^n(X) \to \mathbb{R}$
which turns out to be an isomorphism. We follow the Hitchin notes
in proving this. Before we get to the heart of it, we require the
following technical lemma:

\begin{lemma}\label{lem:integral_zero_implies_exact}
  If $U=\left\lbrace{x\in\mathbb{R}^n : \left\vert{x}\right\vert<1}\right\rbrace$ and $\alpha\in\Omega^n(\mathbb{R}^n)$ such that $\supp\alpha\subseteq U$
  and $\int\alpha=0$ then there is $\theta\in\Omega^{n-1}(\mathbb{R}^n)$
  with $\supp\theta\subseteq U$ such that $\alpha=d\theta$.
  \begin{proof}[Proof idea.]
    We see that this must be true for $n=1$: If
    $\alpha\in\Omega^1(\mathbb{R}^n)$ with $\supp\alpha\subseteq U$ then
    $\alpha = f(x)dx$. We may then take $\theta = \frac{1}{2}\int_{-x}^x f(u)du$ to find
    $d\theta = \alpha$. As $\supp f \subseteq U = (-1,1)$ we must
    have $\int_{-x}^x f(t) dt = \int_{-1}^{1} f(t) dt = 0$ so
    $\supp\beta \subseteq U$.

    This may then be extended to arbitrary $n$ by induction. The precise
    argument is rather tedious and not very insightful, hence we omit it.
    Details may be found in \cite{hitchin2014}.
  \end{proof}
\end{lemma}

\begin{theorem}\label{thm:integration_is_iso}
  Let $X$ be a compact connected orientable $n$-manifold. The map
  \begin{align*}
    \int : H^n(X) \to \mathbb{R} :
    \alpha \mapsto \int_X \alpha
  \end{align*}
  is an isomorphism.
  \begin{proof}
    We use the technique presented in \cite{hitchin2014}.
    Now consider an atlas $\left\lbrace{\phi_i : U_i \to X}\right\rbrace$
    such that $X=\bigcup_i \phi_i(\left\lbrace{x : \left\vert{x}\right\vert < 1}\right\rbrace)$.
    By compactness we may assume to be finite and choose corresponding partition of
    unity $\left\lbrace{\eta_i}\right\rbrace$. Fix $\alpha\in\Omega^n(X)$.
    Now, pick a distinguished $U_1$ and,
    for each $i$, choose $p_i\in U_i$ and choose $U_1 = U^i_1,\ldots,
    U^i_{m_i}=U_i$ such that $U^i_j \cap U^i_{j+1} \neq \emptyset$. This
    is possible due to compactness and connectedness.

    Note, for any coordinate neighbourhood $U\subseteq X$, we may
    choose an $n$-form $\beta\in\Omega^n(X)$ with $\supp\beta \subseteq U$
    such that
    \begin{align*}
      \int_X \beta = \int_{U} \beta = 1
    \end{align*}
    e.g. by scaling $dx_1\wedge \cdots\wedge dx_n$ appropriately using
    a bump function.
    Now note, by Stokes' theorem, we cannot have $d\omega = \alpha_0$
    as this would imply $\int_X \beta = 0$. Thus $[\beta]\neq 0$
    in $H^n(X)$.

    We apply this observation as follows: Choose a $\beta_0$ with
    $\supp\beta_0 \subseteq U_1$ and, moreover, choose $\beta^i_j$ with
    $\supp\beta^i_j\subseteq U^i_j\cap U^i_{j+1}$ for all $i$ and $j$,
    all with integral 1.

    For convenience write $\beta_0=\beta^i_0$. By linearity, we then have
    \begin{align*}
      \int_{U^i_{j+1}} (\beta^i_{j+1}-\beta^i_j) = 0.
    \end{align*}

    We may now apply \ref{lem:integral_zero_implies_exact} to find
    $n-1$-forms $\theta^i_j$ such that $d\theta^i_j = \beta^i_{j} -
    \beta^i_{j-1}$. By telescoping we find
    $\beta^i_{m_i-1}-\beta_0=d(\sum_j \theta^i_j)$.
    Moroever, we note
    \begin{align*}
      \int_{U_i} \left(\eta_i\alpha - \left({\int\eta_i\alpha}\right)\beta_{m_i-1}\right) = 0
    \end{align*}
    so we may write $d\theta^i_0 = \eta_i\alpha - \left({\int\eta_i\alpha}\right)\beta_{m_i-1}$.

    Putting all of this together we have
    \begin{align*}
      \alpha
      = \sum_i \eta_i\alpha
      = \sum_i \left({\int\eta_i\alpha}\right)\beta_{m_i-1} + d\theta_0^i
      = \sum_i \beta_0\left(\int\eta_i\alpha\right) + d\left({\sum_j \theta^i_j}\right)
      = \beta_0\int\alpha + d\left({\sum_{i,j} \theta^i_j}\right).
    \end{align*}
    Thus $[\alpha]=\left({\int\alpha}\right)[\beta_0]$
    in $H^n(X)$. In particular, this shows $\int\alpha = \int\alpha'$
    if, and only if, $[\alpha]=[\alpha']$ and hence the claim follows.
  \end{proof}
\end{theorem}

Moreover, the wedge product respects cohomology. That is,
if $[\alpha]=[\alpha']\in H^k(X)$ then, for all $[\beta]\in H^\ell(X)$,
$[\alpha\wedge\beta]=[\alpha'\wedge\beta]$ in $H^{k+\ell}(X)$.
To see this, write $\alpha=\alpha'+d\theta$ and note
\begin{align*}
  \alpha\wedge\beta = (\alpha'+d\theta)\wedge\beta
  = \alpha'\wedge\beta + d\theta\wedge\beta
  = \alpha'\wedge\beta + d(\theta\wedge\beta)
\end{align*}
as $d\beta = 0$. Thus, for all $1\leq k\leq n$, we have a linear map
\begin{align*}
  \int : H^k(X)\oplus H^{n-k}(X) \to \mathbb{R} : [\alpha]\oplus[\beta]\to \int_X \alpha\wedge\beta.
\end{align*}
By exponential transposition, this yields a linear map
\begin{align*}
  \int : H^k(X)\to (H^{n-k}(X))^* : [\alpha] \mapsto [\beta] \mapsto \int_X \alpha\wedge\beta.
\end{align*}

We say that cover $\left\lbrace{U_i}\right\rbrace$ of a manifold
is \emph{good} if all finite intersections of the $U_i$ are
contractible. We will take the following for granted:

\begin{lemma}\label{lem:good_covers_exist}
  Every manifold has a good cover.
\end{lemma}

Proving this involves more differential geometry than is worth
introducing. \cite{bott1982} This allows us to prove that the integration map
above yields the usual Poincar\'e duality:

\begin{theorem}[Poincar\'e duality]
  Let $X$ be an orientable $n$-manifold. Then,
  for all $k\in\mathbb{Z}$, there is an isomorphism
  \begin{align*}
    \int : H^k(X) \cong \left(H^{n-k}_c(X)\right)^*.
  \end{align*}
  \begin{proof}
    Following \cite{bott1982}. If $X$ is contractible,
    i.e. has a good cover with a single element, the claim
    holds due to \ref{lem:poincare} and \ref{lem:compact_poincare}.

    Now assume that the claim holds whenever a manifold has a good
    cover of size $\ell$ and that $X$ has a good cover
    $\left\lbrace{U_i}\right\rbrace_{i=0}^{\ell}$ of size $\ell+1$.
    Write $U=U_0$ and $V=\bigcup_{i=1}^{\ell} U_i$.
    Using the long exact sequences (\ref{eq:mv}) and (\ref{eq:compact_dual_mv}) we obtain a diagram
    \begin{equation*}
      % https://q.uiver.app/#q=WzAsMTAsWzAsMiwiSF5rKFVcXGN1cCBWKSJdLFsxLDIsIihIX2Nee24ta30oVVxcY3VwIFYpKV4qIl0sWzAsMywiSF5rKFUpXFxvcGx1cyBIXmsoVikiXSxbMCwxLCJIXntrLTF9KFVcXGNhcCBWKSJdLFswLDAsIkhee2stMX0oVSlcXG9wbHVzIEhee2stMX0oVikiXSxbMCw0LCJIXmsoVVxcY2FwIFYpIl0sWzEsMCwiKEhfY157bi1rKzF9KFUpKV4qXFxvcGx1cyAoSF9jXntuLWsrMX0oVikpXioiXSxbMSwxLCIoSF9jXntuLWsrMX0oVVxcY2FwIFYpKV4qIl0sWzEsMywiKEhfY157bi1rfShVKSleKlxcb3BsdXMgKEhfY157bi1rfShWKSleKiJdLFsxLDQsIihIX2Nee24ta30oVVxcY2FwIFYpKV4qIl0sWzQsNiwiXFxpbnRcXG9wbHVzXFxpbnQiLDEseyJjdXJ2ZSI6LTJ9XSxbMyw3LCJcXGludCIsMSx7ImN1cnZlIjotMn1dLFsyLDgsIlxcaW50XFxvcGx1c1xcaW50IiwxLHsiY3VydmUiOi0yfV0sWzYsN10sWzQsM10sWzMsMF0sWzcsMV0sWzAsMl0sWzEsOF0sWzgsOV0sWzUsOSwiXFxpbnQiLDEseyJjdXJ2ZSI6LTJ9XSxbMiw1XSxbMCwxLCJcXGludCIsMSx7ImN1cnZlIjotMn1dXQ==
      \begin{tikzcd}
        {H^{k-1}(U)\oplus H^{k-1}(V)} & {(H_c^{n-k+1}(U))^*\oplus (H_c^{n-k+1}(V))^*} \\
        {H^{k-1}(U\cap V)} & {(H_c^{n-k+1}(U\cap V))^*} \\
        {H^k(U\cup V)} & {(H_c^{n-k}(U\cup V))^*} \\
        {H^k(U)\oplus H^k(V)} & {(H_c^{n-k}(U))^*\oplus (H_c^{n-k}(V))^*} \\
        {H^k(U\cap V)} & {(H_c^{n-k}(U\cap V))^*}
        \arrow["\int\oplus\int"{description}, curve={height=-12pt}, from=1-1, to=1-2]
        \arrow["\int"{description}, curve={height=-12pt}, from=2-1, to=2-2]
        \arrow["\int\oplus\int"{description}, curve={height=-12pt}, from=4-1, to=4-2]
        \arrow[from=1-2, to=2-2]
        \arrow[from=1-1, to=2-1]
        \arrow[from=2-1, to=3-1]
        \arrow[from=2-2, to=3-2]
        \arrow[from=3-1, to=4-1]
        \arrow[from=3-2, to=4-2]
        \arrow[from=4-2, to=5-2]
        \arrow["\int"{description}, curve={height=-12pt}, from=5-1, to=5-2]
        \arrow[from=4-1, to=5-1]
        \arrow["\int"{description}, curve={height=-12pt}, from=3-1, to=3-2]
      \end{tikzcd}
    \end{equation*}
    with exact columns. Noting
    \begin{align*}
      U\cap V = U_0\cap \left({\bigcup_{i=1}^{\ell} U_i}\right)
      = \bigcup_{i=1}^{\ell} U_0 \cap U_i
    \end{align*}
    we find that $U$, $V$, and $U\cap V$ each have a good cover
    of size $\leq\ell$ and hence all but the
    middle row are known to be isomorphisms. By the five lemma,
    the claim now follows for $\ell + 1$ and by induction for
    any manifold that has a finite good cover.

    By \ref{lem:good_covers_exist}, every compact manifold has a finite good
    cover. This completes the proof.
  \end{proof}
\end{theorem}

Using the trivial observation $\Omega^k_c(X)=\Omega^k(X)$ for
compact $X$, we have the usual statement:

\begin{corollary}
  Let $X$ be a compact orientable $n$-manifold. Then, for all $k\in\mathbb{Z}$,
  \begin{align*}
    H^k(X)\cong (H^{n-k}(X))^*.
  \end{align*}
\end{corollary}

\printbibliography

\end{document}
