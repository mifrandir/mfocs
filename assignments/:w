\documentclass{article}
\usepackage{assignment}
\begin{document}
\title{C3.1 Algebraic Topology Mini Project: De Rahm Cohomology}
\author{Franz Miltz}
\date{\today}
\maketitle

\section{Manifolds}

\todo{write recap}
\begin{definition}
  \missingdefinition{manifold with boundary}
\end{definition}

\todo{partitions of unity}

\section{Tensor algebras}

Recall that the tensor product $U\otimes V$ of two vector spaces $U$ and $V$ is, up to isomorphism, defined by the universal property that any bilinear map $f:U\times V\to W$ determines a unique linear map $\tilde f : U\otimes V\to W$ making the following diagram commute:

\begin{equation*}
  % https://q.uiver.app/#q=WzAsMyxbMCwwLCJVXFx0aW1lcyBWIl0sWzEsMSwiVVxcb3RpbWVzIFYiXSxbMiwwLCJXIl0sWzAsMiwiZiJdLFsxLDIsIlxcdGlsZGUgZiIsMl0sWzAsMSwiXFxwaSIsMl1d
  \begin{tikzcd}
    {U\times V} && W \\
                & {U\otimes V}
                \arrow["f", from=1-1, to=1-3]
                \arrow["{\tilde f}"', from=2-2, to=1-3]
                \arrow["\pi"', from=1-1, to=2-2]
  \end{tikzcd}
\end{equation*}

This is associative up to a canonical isomorphism and hence we may write
\begin{align*}
  \tensor{k}{V} = V \otimes \cdots \otimes V
\end{align*}
for the $k$-fold tensor product of $V$.

\begin{definition}
  The \emph{tensor algebra} of a vector space $V$ is the set
  \begin{align*}
    \tensor{}{V} = \bigcup_{k=1}^\infty \tensor{k}{V}
  \end{align*}
  equipped with the tensor products
  \begin{align*}
    \otimes : \tensor{k}{V} \times \tensor{\ell}{V}\to \tensor{k+\ell} V.
  \end{align*}
\end{definition}

This is an $\mathbb{R}$-algebra in the usual sense. Note that linear
maps $f:V\to W$ induce linear maps $\tensor{k}{V}$ and hence algebra
homomorphisms $f:\tensor{}{V}\to\tensor{}{V}$.

\section{Exterior algebras}

It will prove fruitful to define the ideal spanned by elements of the form $v\otimes v$ in $\tensor{}{V}$. Let us write
\begin{align*}
  I(V) = \langle\left\lbrace{v\otimes v : v \in V}\right\rbrace\rangle.
\end{align*}
Then an element $a\in I(V)\subseteq \tensor{}{V}$ is a linear combination
of multiples of $v\otimes v$ for some $v\in V$. There are a few
logical consequences worth highlighting:
\begin{itemize}
  \item For all $u,v\in V$, $u\otimes v + v \otimes u \in I(V)$
    because
    \begin{align*}
      u\otimes v + v \otimes u = (u+v)\otimes(u+v)-u\otimes u-v\otimes v.
    \end{align*}
  \item For all $a,b\in\tensor{}{V}$, $a\otimes b+b\otimes a$ due to
    a similar argument as the above. \todo{wrong}
  \item For all $a,b\in V$, $a\otimes b\otimes a\in I(V)$ because
    \begin{align*}
      a\otimes b\otimes a = (a\otimes b\otimes a + a \otimes a \otimes b) - a\otimes a\otimes b.
    \end{align*}
\end{itemize}

This lets us define a construction that we will be studying for the remainder
of this project:

\begin{definition}
  Let $V$ be an $n$-dimensional vector space. The \emph{exterior algebra of
  $V$} is the quotient
  \begin{align*}
    \exterior{}{V} = \tensor{}{V}/I(V).
  \end{align*}
  We write $\exterior{k}{V}$ for the image of $\tensor{k}{V}$ under the quotient
  map. Further, linear maps $f:V\to W$ induce algebra homomorphisms
  $\exterior{}{f}:\exterior{}{V}\to\exterior{}{W}$ and hence linear maps
  $\exterior{k}{f}:\exterior{k}{V}\to\exterior{k}{W}$.
\end{definition}

\begin{lemma}
  Let $V$ be an $n$-dimensional vector space.
  Then for all $\alpha\in\exterior{k}{V}$ and $\beta\in\exterior{\ell}{V}$,
  \begin{align*}
    \alpha\wedge\beta = (-1)^{k\ell}\beta\wedge\alpha.
  \end{align*}
  \begin{proof}
    We have seen $u\wedge v + v\wedge u = 0$ for any $u,v\in V$.
    By linearity of the quotient map $\tensor{}{V}\to\exterior{}{V}$,
    it follows that interchaning any adjacent elements in an expression
    $u_1\wedge\cdots\wedge u_k$ changes the sign. Now,
    for $u_1,\ldots,u_k,v_1,\ldots,v_\ell\in V$,
    \begin{align*}
      (u_1\wedge\cdots\wedge u_k)\wedge(v_1\wedge\cdots\wedge v_\ell)
      = (-1)^{k\ell}(v_1\wedge\cdots\wedge v_\ell)\wedge(u_1\wedge\cdots\wedge u_k)
    \end{align*}
    by moving each $v_i$ individually. The claim then follows
    by writing elements of $\exterior{k}{V}$ as linear combinations
    of $k$-fold wedges $v_1\wedge\cdots\wedge v_k$.
  \end{proof}
\end{lemma}

\begin{lemma}\label{lem:basis_of_exterior_product}
  Let $V$ be an $n$-dimensional vector space and $v_1,\ldots,v_n$ a basis.
  Then
  \begin{align*}
    \left\lbrace{v_{j_1}\wedge\cdots\wedge v_{j_k} : 1\leq j_1<\cdots<j_k\leq n }\right\rbrace
  \end{align*}
  is a basis for $\exterior{k}{V}$. Thus $\dim\exterior{k}{V} = \binom{n}{k}$.
  \begin{proof}
  \end{proof}
\end{lemma}

To simplify notation, we will use multi-indices. A multi-index $I$ of size
$k$ and dimension $n$ is a tuple $(i_1,\ldots,i_k)$ such that
$1\leq i_1<\cdots<i_k\leq n$. We will write $v_I = v_{i_1}\wedge \cdots \wedge
v_{i_k}$ for the basis vectors of $\exterior{k}{V}$ so a general
element $x\in\exterior{k}{V}$ will be written as
$x = \sum_I x_I v_I$ where the $I$ is understood to range over
all the $\binom{n}{k}$ multi-indices of size $k$ and dimension $n$.

\begin{example}
  We are going to be interested in studying the exterior
  algebra of the cotangent spaces $T_p^* X$ of a manifold $X$.
  Let $\alpha\in \exterior{k}{T^*_p X}$. Then there is a corresponding $a\in
  \tensor{k}{T_p^* X}$. Now
  \begin{align*}
    \tensor{k}{T_p^* X} = \tensor{k}{\Hom(T_p X,\mathbb{R})} \cong \Hom(\tensor{k}{T_p X}, \tensor{k}{\mathbb{R}}) \cong \Hom(\tensor{k}{T_p X},\mathbb{R}).
  \end{align*}
  Hence $a$ may be understood as a map $\tensor{k}{T_p X}\to\mathbb{R}$
  which is just a multilinear map $T_p X\times\cdots\times T_p X\to\mathbb{R}$. It is not difficult to see that the elements of $\exterior{k}{T^*_p X}$
  correspond exactly to those multilinear maps that are alternating,
  i.e. for all $1\leq i < j\leq k$,
  \begin{align*}
    a(x_1,\ldots,x_i,\ldots,x_j,\ldots x_k) = -a(x_1,\ldots,x_{i-1},x_j,x_{i+1},\ldots,x_{j-1},x_i,x_{j+1},\ldots,x_k)
  \end{align*}
\end{example}

\section{Vector bundles}

\begin{definition}
  Let $X$ be an $n$-manifold and $k\geq 0$.
  A \emph{rank $k$ vector bundle on $X$} consists of
  \begin{enumerate}
    \item an $(n+k)$-manifold $E$,
    \item a smooth surjective map $\pi : E\to X$, and
    \item for each $x\in X$, a $k$-dimensional real vector space structure on ${\pi}^{-1}\left\lbrace{x}\right\rbrace$,
  \end{enumerate}
  such that, for each $x\in X$ there is an open neighbourhood $U\ni x$
  together with a diffeomorphism $\psi : {\pi}^{-1} U \to U\times\mathbb{R}^k$ that restricts to an isomorphism $\psi : {\pi}^{-1}\left\lbrace{u}\right\rbrace\to \left\lbrace{u}\right\rbrace\times\mathbb{R}^k$ for all $u\in U$.
\end{definition}

\begin{example}\label{ex:bundles}
  Let $X$ be an $n$-manifold. Then there are several obvious vector bundles:
  \begin{itemize}
    \item The manifold $X\times\mathbb{R}^m$ together with the projection $\pi : X\times\mathbb{R}^m\to X$ trivially forms a vector bundle.
    \item Define
      \begin{align*}
        TX = \bigsqcup_{p\in X} T_p X = \left\lbrace{(p, v) : x \in X, v \in T_p X}\right\rbrace
      \end{align*}
      where $T_p X$ denotes the tangent space of $X$ at $p$. The manifold
      structure on $TX$ is induced by the manifold structure on $X$ in the
      obvious way: For each chart $\phi:U\to X$, define a map
      $\psi:U\times\mathbb{R}^n\to TX$ by
      \begin{align*}
        \psi(p,y_1,\ldots y_n)
        = \sum_{j=1}^k y_j \res{\frac{\partial}{\partial x_j}}{p}.
      \end{align*}
      This turns out to be a chart \todo{prove this?} and, moreover, gives rise
      to an atlas on $TX$. We thus have a $2n$-manifold $TX$ which, together with the projection $(p,v)\mapsto p$, forms a vector bundle called the \emph{tangent bundle}.
    \item One may similarly define the \emph{cotangent bundle} $T^*X$.
      More generally, the exterior powers $\exterior{k}{T^* X}$ are going
      to be of interest to us. Define
      \begin{align*}
        \exterior{k}{T^*X} = \bigsqcup_{p\in X} \exterior{k}{T^*_p X}
      \end{align*}
      where $T^*_p X$ is the dual $(T_pX)^*$, i.e.~the space of linear
      maps $T_p X\to\mathbb{R}$. Once again, we extend a chart
      $\phi:U\to X$ to a chart $\psi : U\times\mathbb{R}^{\binom{n}{k}}\to \exterior{k}{T^*X}$ in the obvious way:
      \begin{align*}
        \psi(p,y) = \sum_I y_I \res{dx_I}{p}
      \end{align*}
      where $\res{dx_1}{p},\ldots,\res{dx_n}{p}$ are the usual basis vectors of
      $T^*_p X$. Direct computation shows that this is a chart and
      thus we have a manifold $\exterior{k}{T^*_p X}$ of dimension
      $n+\binom{n}{k}$ which forms a vector bundle with the
      projection $(p,v)\mapsto p$.
  \end{itemize}
\end{example}

\begin{definition}
  A  (smooth) \emph{section} of a vector bundle $\pi:E\to X$ is a (smooth)
  section of the map $\pi$, i.e. a smooth map $\sigma : X\to E$ such that $\pi
  \circ \sigma = \identity_X$. Denote by $\Gamma(E)$ the set of all sections of
  a vector bundle $E$.
\end{definition}

\begin{example}
  Let us inspect the sections of the bundles in~\ref{ex:bundles}.
  \begin{itemize}
    \item A section of the trivial bundle is a map $p\mapsto (p,\phi(p))$ where $\phi:X\to\mathbb{R}^m$ is smooth.
    \item A section of the tangent bundle is a smooth map of the form
      $p\mapsto (p,v_p)$ where $v_p\in T_p X$. Such a section is called
      a \emph{vector field}.
    \item Similarly, a section of $\exterior{k}{T^* X}$ smoothly assigns to each
      $p\in X$ an element $\alpha\in\exterior{k}{T^*_p X}$. That is,
      if we have coordinates $(x_1,\ldots,x_n)$ on $U\subseteq X$,
      then
      \begin{align}\label{eq:local_differential_form}
        \res{\alpha}{U} = \sum_I \alpha_I dx_I
      \end{align}
      where each $\alpha_I$ is a smooth function $U\to \mathbb{R}$.
  \end{itemize}
\end{example}

\section{Differential forms}

\begin{definition}
  Let $X$ be a manifold. For $k\geq 1$, the set of \emph{differential
  $k$-forms} is $\Omega^k(X) = \Gamma^\infty(\exterior{k}{T^* X})$.
  Further define $\Omega^0(X)$ to be the set of smooth functions
  $X\to\mathbb{R}$.
\end{definition}

As a consequence of \ref{lem:basis_of_exterior_product} we have
$\dim\Omega^k(X)=\binom{n}{k}$ for all $0\leq k\leq n$. We further
note that, for $k<0$ or $k>n$, $\Omega^k(X)=0$.

Similar to how continuous maps between topological spaces induce
maps on cochains, smooth maps between manifolds induce maps on forms.
Let $f:X\to Y$ be a smooth map of manifolds. Then we have the derivative
\begin{align*}
  df:TX\to TY
\end{align*}
and its dual
\begin{align*}
  d^*f : T^*Y\to T^*X.
\end{align*}
Hence we have a map on the exterior products
\begin{align*}
  \exterior{k}{d^*f} : \exterior{k}{T^*Y}\to \exterior{k}{T^*X}.
\end{align*}
Postcomposition with this map allows us to take a $k$-form on $Y$
to a $k$-form on $X$:

\begin{definition}
  Let $f:X\to Y$ be a smooth map of manifolds and $\alpha\in\Omega^k(Y)$.
  The \emph{pullback of $\alpha$ by $f$} is the composite
  $f^*\alpha\in\Omega^k(Y)$ defined by
  \begin{align*}
    X\xrightarrow{f} Y\xrightarrow{\alpha} \exterior{k}{T^*Y}\xrightarrow{\exterior{k}{d^*f}} \exterior{k}{T^*X}.
  \end{align*}
\end{definition}

\section{Exterior derivative}

While differential forms are useful in their own right, in particular
to generalise the notions of integration and orientation to general
manifolds, we will use them to define a co-chain complex whose cohomology will be the de Rahm cohomology, which itself is equivalent to singular
cohomology with real coefficients. In this sense, differential forms
may be thought of an analog to chains.

The objects in our co-chain complex will be the vector spaces $\Omega^k(X)$. Let us now define the boundary map. Recall that, in local coordinates,
the derivative of a smooth function $f:X\to\mathbb{R}$ is
\begin{align*}
  df = \sum_{i=1}^n \frac{\partial f}{\partial x_i} dx_i.
\end{align*}
That is, differentiating a function yields a 1-form. This is easily
generalised to a derivative of $k$-forms by considering a smooth
multiple $a dx_I$ on an open subset $U\subseteq X$. Hence
\begin{align}\label{eq:local_exterior_derivative}
  d(adx_I) = da\wedge dx_I = \sum_{i=1}^n \frac{\partial a}{\partial x_i} dx_i\wedge dx_I.
\end{align}
Note that this is a strong candidate for a boundary map:
\begin{align*}
  d^2(adx_I) &= \sum_{i=1}^{n} d\left({\frac{\partial a}{\partial x_i}}\right)\wedge dx_i \wedge dx_I\\
             &= \sum_{i=1}^{n} \sum_{j=1}^{n} \frac{\partial^2 a}{\partial x_i \partial x_j} dx_j\wedge dx_i \wedge dx_I \\
             &= 0
\end{align*}
where the last step holds because $\partial^2/\partial x_i\partial x_j$ is symmetric in $i$ and $j$ but $dx_i\wedge dx_j = -dx_j \wedge dx_i$.

This derivative of $k$-forms also inherits one of the essential properties of the usual derivative. Consider $\alpha=adx_I\in\Omega^k(X)$ and $\beta=bdx_J\in\Omega^\ell(X)$. Then
\begin{align*}
  d(\alpha\wedge\beta) &= d(abdx_I\wedge dx_J) \\
                       &= d(ab)\wedge dx_I\wedge dx_J \\
                       &= (adb + bda)\wedge dx_I\wedge dx_J \\
                       &=(-1)^k a dx_I\wedge db \wedge dx_J
                       + da \wedge dx_I\wedge bdx_J \\
                       &= (-1)^k \alpha\wedge d\beta + d\alpha\wedge\beta.
\end{align*}

We avoid referencing local coordinates in our definition by taking these
properties as axioms:

\begin{definition}
  Let $X$ be an $n$-manifold. The \emph{exterior derivative} is the
  unique family of linear maps
  \begin{align*}
    d : \Omega^k(X) \to \Omega^{k+1}(X)
  \end{align*}
  such that
  \begin{enumerate}
    \item for $f\in\Omega^0(X)$, $df\in\Omega^1(X)$ is the usual derivative,
    \item $d^2 = 0$,
    \item for $\alpha\in\Omega^k(X)$, $d(\alpha\wedge\beta) = d\alpha\wedge\beta + (-1)^k \alpha\wedge d\beta$.
  \end{enumerate}
\end{definition}

We have already seen that (\ref{eq:local_exterior_derivative}) satisfies
these conditions. Moreover, taking $f\in\Omega^0(X)$ and $\alpha\in\Omega^k$
with $\res{\alpha}{U} = dx_I$ for some $U\subseteq X$, e.g. by considering a partition of unity, we find
\begin{align*}
  \res{d(f\alpha)}{U}
  &= \res{d(f\wedge\alpha)}{U}\\
  &= \res{(df\wedge\alpha + f\wedge d\alpha)}{U}\\
  &= \res{(df\wedge\alpha)}{U} + \res{f}{U}\wedge \res{d\alpha}{U}\\
  &= \res{(df\wedge\alpha)}{U} + \res{f}{U}\wedge \res{d^2x_I}{U}\\
  &= \res{(df\wedge\alpha)}{U}.
\end{align*}
Hence our local expression (\ref{eq:local_exterior_derivative}) must
hold for any family of maps satisfying the definition. In particular,
this shows that the exterior derivative is in fact unique and given by
the expression (\ref{eq:local_exterior_derivative}) in any coordinates.

\section{De Rahm cohomology}

By setting $\Omega^k(X)=0$ for $k<0$, we have a cochain complex:

\begin{definition}
  The \emph{de Rahm} complex of a manifold $X$ is the cochain complex
  \begin{align*}
    \cdots
    \xrightarrow{d} \Omega^k(X)
    \xrightarrow{d} \Omega^{k+1}(X)
    \xrightarrow{d} \cdots
  \end{align*}
\end{definition}

The pullback map $\alpha\mapsto F^*\alpha$ of a smooth
$F:X\to Y$ induces a morphism of cochain complexes $F^*:\Omega^*(Y)\to\Omega^*(X)$:

\todo{capitalise smooth maps and derivatives everywhere}

\begin{lemma}\label{lem:pullback_is_chain_map}
  Let $F:X\to Y$ be a smooth map of manifolds and $\alpha\in\Omega^k(Y)$.
  Then $F^*(d\alpha) = d(F^*\alpha)$.
  \begin{proof}
    Consider the case $\alpha\in\Omega^0(Y)$.
    By definition of the derivative, we have
    $\res{D^* f(d\alpha)}{F(x)} = \res{d(\alpha\circ F)}{x}$.
    Noting that $F^*\alpha = \alpha \circ F$, we find
    $F^*(d\alpha) = d(F^*\alpha)$. This may be extended to general
    $k$ by inspecting coordiante expressions.
  \end{proof}
\end{lemma}

We will be particularly interested in the cohomology classes
of this chain complex:

\begin{definition}
  The \emph{de Rahm cohomology} $H^*(X)$ of a manifold $X$ is the cohomology of the de Rahm complex, i.e.
  $H^k(X) = H^k(\Omega^k(X))$.
\end{definition}

Note that each $\Omega^k(X)$ is a vector space, hence the $H^k(X)$ are
vector spaces, too. Moreover, cochain maps extend to cohomology and
thus smooth $f:X\to Y$ induce linear maps $f^*:H^*(Y)\to H^*(X)$.
These maps behave well with respect to homotopy:

\begin{lemma}
  Let $f:X\times[0,1]\to Y$ be smooth and write $f_t(X) = f(x,t)$.
  Then $f_0^*=f_1^*$ as maps $H^*(Y)\to H^*(X)$.
  \begin{proof} \todo{from DM class}
    Consider $[\alpha]\in H^k(X)$. We may write the pullback form
    as $f^*\alpha = \beta_t + dt\wedge\gamma_t$
    where $\beta_t$ and $\gamma_t$ are $t$-dependent $k$ and $k-1$
    forms on $X$, respectively. Note $d\alpha = 0$ so,
    by \ref{lem:pullback_is_chain_map}, $d(f^*\alpha)=0$.
    Thus
    \begin{align*}
      d(\beta_t + dt\wedge\gamma_t) = d\beta_t - dt\wedge d\gamma_t
      = d_X\beta_t - \frac{\partial \beta_t}{dt}\wedge dt + d_X \gamma_t \wedge dt = 0.
    \end{align*}
    As $d_X\beta_t$ does not involve $dt$, we must have
    \begin{align*}
      d_X \gamma_t - \frac{\partial \beta_t}{dt}  = 0.
    \end{align*}
    Hence
    \begin{align*}
      f_1^*\alpha - f_0^*\alpha = \beta_1 - \beta_0
      = \int_0^1 \frac{\partial\beta_t}{\partial t}dt
      = \int_0^1 (d_X\gamma_t) dt
      = d_X\left({\int_0^1 \gamma_t dt}\right).
    \end{align*}
    This shows that $f_1^*\alpha - f_0^*\alpha$ is exact and hence
    $f_1^*=f_0^*$ in cohomology.
  \end{proof}
\end{lemma}

Thus, for any smooth deformation of $f:X\to Y$, the induced map
$H^*(Y)\to H^*(X)$ remains unchanged. Note that this statement is
weaker than the usual invariance under possibly not smooth
deformations. Thus we obtain the slightly weaker statement:

\begin{theorem}
  If $X,Y$ are smoothly homotopic manifolds, then the cohomology groups
  $H^*(X)$ and $H^*(Y)$ are isomorphic.
  \begin{proof}
    Fix the smooth maps $f:X\to Y:g$ and smooth homotopies $h:\id_X \simeq g\circ f$ and $h':\id_Y \simeq f\circ g$.
  \end{proof}
\end{theorem}

\section{Mayer-Vietoris}

Note that an open subset $U$ of a manifold $X$ has a canonical
manifold structure given by restricting each of the charts
$\phi_i : U_i\to X$ to the inverse image ${\phi}^{-1}(U)$.
Thus the inclusion $U\to X$ is smooth and the restriction
$\Omega^*(X)\to\Omega^*(U)$ is a map of complexes.

\begin{theorem}
  Let $X$ be a manifold with an open cover $X=U\cup V$. Then
  there is a long exact sequence
  \begin{align}\label{eq:mv}
    \cdots
    \longrightarrow H^k(X)
    \longrightarrow H^k(U)\oplus H^k(V)
    \longrightarrow H^k(U\cap V)
    \longrightarrow H^{k+1}(X)
    \longrightarrow \cdots
  \end{align}
  \begin{proof}
    Note that we have a short exact sequence of chain complexes
    \begin{align}\label{eq:short_mv}
      0
      \longrightarrow \Omega^*(X)
      \longrightarrow \Omega^*(U)\oplus \Omega^*(V)
      \longrightarrow \Omega^*(U\cap V)
      \longrightarrow 0
    \end{align}
    where the first map takes a $k$-form $\alpha\in\Omega^k(X)$
    to its restrictions $\res{\alpha}{U}\oplus\res{\alpha}{V}$ and the
    second map takes $k$-forms $\alpha\in\Omega^k(U)$
    and $\beta\in\Omega^k(V)$ to the difference of their restrictions
    $\res{\alpha}{U\cap V}-\res{\beta}{U\cap V}$. To see that
    the second map is indeed surjective, consider
    a partition of unity $\left\lbrace{\eta_U,\eta_V}\right\rbrace$
    subordinate to $\left\lbrace{U,V}\right\rbrace$.
    Then, for any $\alpha\in\Omega^k(U\cap V)$,
    we have $\eta_V\alpha\in\Omega^k(U)$ and $-\eta_U\alpha\in\Omega^k(V)$
    and $\eta_V\alpha \oplus (-\eta_U\alpha)\mapsto
    \eta_V\alpha + \eta_U\alpha = \alpha$.

    Now the short exact sequence of cochain complexes (\ref{eq:short_mv})
    induces the long exact sequence of cohomologies (\ref{eq:mv}).
  \end{proof}
\end{theorem}

Note by taking duals we obtain a short exact sequence
of chain complexes
\begin{align*}
  0
  \longrightarrow \left(\Omega^*(U\cap V)\right)^*
  \longrightarrow \left(\Omega^*(U)\right)^*\oplus \left(\Omega^*(V)\right)^*
  \longrightarrow \left(\Omega^*(X)\right)^*
  \longrightarrow 0
\end{align*}
and hence a long exact sequence of vector spaces
\begin{align}\label{eq:dual_mv}
  \cdots
  \longrightarrow \left(H^{k+1}(X)\right)^*
  \longrightarrow \left(H^k(U\cap V)\right)^*
  \longrightarrow \left(H^k(U)\right)^*\oplus \left(H^k(V)\right)^*
  \longrightarrow \left(H^k(X)\right)^*
  \longrightarrow \cdots
\end{align}

\section{Integration}

\section{Stoke's theorem}

\section{Poincar\'e duality}

Suppose $\alpha = \beta + d\theta$. Then, by Stokes' Theorem,
\begin{align*}
  \int \alpha = \int (\beta + d\theta) = \int \beta +\int d\theta
  = \int \beta.
\end{align*}
Thus we have a linear map $\int : H^n(X) \to \mathbb{R}$
which turns out to be an isomorphism:

\begin{lemma}[Poincar\'e]
  Let $X$ be a compact, orientable $n$-manifold. The map
  \begin{align*}
    \int : H^n(X) \to \mathbb{R} :
    \alpha \mapsto \int_X \alpha
  \end{align*}
  is an isomorphism.
  \begin{proof}

    \missingproof
  \end{proof}
\end{lemma}

Moreover, the wedge product respects cohomology. That is,
if $[\alpha]=[\alpha']\in H^k(X)$ then, for all $[\beta]\in H^\ell(X)$,
$[\alpha\wedge\beta]=[\alpha'\wedge\beta]$ in $H^{k+\ell}(X)$.
To see this, write $\alpha=\alpha'+d\theta$ and note
\begin{align*}
  \alpha\wedge\beta = (\alpha'+d\theta)\wedge\beta
  = \alpha'\wedge\beta + d\theta\wedge\beta
  = \alpha'\wedge\beta + d(\theta\wedge\beta)
\end{align*}
as $d\beta = 0$. Thus, for all $1\leq k\leq n$, we have a linear map
\begin{align*}
  \int : H^k(X)\oplus H^{n-k}(X) \to \mathbb{R} : [\alpha]\oplus[\beta]\to \int_X \alpha\wedge\beta.
\end{align*}
By exponential transposition, this yields a linear map
\begin{align*}
  \int : H^k(X)\to (H^{n-k}(X))^* : [\alpha] \mapsto [\beta] \mapsto \int_X \alpha\wedge\beta.
\end{align*}

We say that cover $\left\lbrace{U_i}\right\rbrace$ of a manifold
is \emph{good} if all finite intersections of the $U_i$ are
contractible. We will take the following for granted:

\begin{lemma}\label{lem:good_covers_exist}
  Every manifold has a good cover.
\end{lemma}

Proving this involves more differential geometry than is worth
introducing. This allows us to prove that the integration map
above yields the usual Poincar\'e duality:

\begin{theorem}[Poincar\'e duality]
  Let $X$ be a compact, orientable $n$-manifold. Then,
  for all $k\in\mathbb{Z}$, there is an isomorphism
  \begin{align*}
    \int : H^k(X) \cong \left(H^{n-k}(X)\right)^*.
  \end{align*}
  \begin{proof}

    We have seen in \ref{lem:poincare} that integration
    defines an isomorphism $H^n(\mathbb{R}^n)=\mathbb{R}$.
    Thus the claim holds whenever $X$ is contractible, i.e.
    if there exists a good cover with a single element. \todo{write about this}

    Now assume that the claim holds whenever a manifold has a good
    cover of size $\ell$ and that $X$ has a good cover
    $\left\lbrace{U_i}\right\rbrace_{i=0}^{\ell}$ of size $\ell+1$.
    Write $U=U_0$ and $V=\bigcup_{i=1}^{\ell} U_i$.
    Using the long exact sequences (\ref{eq:mv}) and (\ref{eq:dual_mv}) we obtain a diagram
    \begin{equation*}
      % https://q.uiver.app/#q=WzAsMTAsWzAsMiwiSF5rKFVcXGN1cCBWKSJdLFsxLDIsIihIXntuLWt9KFVcXGN1cCBWKSleKiJdLFswLDMsIkheayhVKVxcb3BsdXMgSF5rKFYpIl0sWzAsMSwiSF57ay0xfShVXFxjYXAgVikiXSxbMCwwLCJIXntrLTF9KFUpXFxvcGx1cyBIXntrLTF9KFYpIl0sWzAsNCwiSF5rKFVcXGNhcCBWKSJdLFsxLDAsIihIXntuLWsrMX0oVSkpXipcXG9wbHVzIChIXntuLWsrMX0oVikpXioiXSxbMSwxLCIoSF57bi1rKzF9KFVcXGNhcCBWKSleKiJdLFsxLDMsIihIXntuLWt9KFUpKV4qXFxvcGx1cyAoSF57bi1rfShWKSleKiJdLFsxLDQsIihIXntuLWt9KFVcXGNhcCBWKSleKiJdLFs0LDYsIlxcaW50XFxvcGx1c1xcaW50IiwxLHsiY3VydmUiOi0yfV0sWzMsNywiXFxpbnQiLDEseyJjdXJ2ZSI6LTJ9XSxbMiw4LCJcXGludFxcb3BsdXNcXGludCIsMSx7ImN1cnZlIjotMn1dLFs2LDddLFs0LDNdLFszLDBdLFs3LDFdLFswLDJdLFsxLDhdLFs4LDldLFs1LDksIlxcaW50IiwxLHsiY3VydmUiOi0yfV0sWzIsNV0sWzAsMSwiXFxpbnQiLDEseyJjdXJ2ZSI6LTJ9XV0=
      \begin{tikzcd}
        {H^{k-1}(U)\oplus H^{k-1}(V)} & {(H^{n-k+1}(U))^*\oplus (H^{n-k+1}(V))^*} \\
        {H^{k-1}(U\cap V)} & {(H^{n-k+1}(U\cap V))^*} \\
        {H^k(U\cup V)} & {(H^{n-k}(U\cup V))^*} \\
        {H^k(U)\oplus H^k(V)} & {(H^{n-k}(U))^*\oplus (H^{n-k}(V))^*} \\
        {H^k(U\cap V)} & {(H^{n-k}(U\cap V))^*}
        \arrow["\int\oplus\int"{description}, curve={height=-12pt}, from=1-1, to=1-2]
        \arrow["\int"{description}, curve={height=-12pt}, from=2-1, to=2-2]
        \arrow["\int\oplus\int"{description}, curve={height=-12pt}, from=4-1, to=4-2]
        \arrow[from=1-2, to=2-2]
        \arrow[from=1-1, to=2-1]
        \arrow[from=2-1, to=3-1]
        \arrow[from=2-2, to=3-2]
        \arrow[from=3-1, to=4-1]
        \arrow[from=3-2, to=4-2]
        \arrow[from=4-2, to=5-2]
        \arrow["\int"{description}, curve={height=-12pt}, from=5-1, to=5-2]
        \arrow[from=4-1, to=5-1]
        \arrow["\int"{description}, curve={height=-12pt}, from=3-1, to=3-2]
      \end{tikzcd}
    \end{equation*}
    with exact columns. Noting
    \begin{align*}
      U\cap V = U_0\cap \left({\bigcup_{i=1}^{\ell} U_i}\right)
      = \bigcup_{i=1}^{\ell} U_0 \cap U_i
    \end{align*}
    we find that $U$, $V$, and $U\cap V$ each have a good cover
    of size $\leq\ell$ and hence all but the
    middle row are known to be isomorphisms. By the five lemma,
    the claim now follows for $\ell + 1$ and by induction for
    any manifold that has a finite good cover.

    By \ref{lem:good_covers_exist}, every compact manifold has a finite good
    cover. This completes the proof.
  \end{proof}
\end{theorem}

\end{document}
